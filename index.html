<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tuna</title>

  <!-- Bubbly font -->
  <link href="https://fonts.googleapis.com/css2?family=Bubblegum+Sans&display=swap" rel="stylesheet"/>

  <!-- Bootstrap (for basic reset + grid) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- Tiny Slider CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.9.3/tiny-slider.css" rel="stylesheet"/>

 <style>
/* =========================================================================
   Base
   ========================================================================= */
body {
  margin: 0;
  background: #f8f9fa;
  color: #212529;
  font-family: system-ui, sans-serif;
}
h1, h2, h3 { margin: 0; }

/* =========================================================================
   Typewriter Hero
   ========================================================================= */
#typewriter {
  font-family: 'Bubblegum Sans', cursive;
  font-size: 16rem;
  background: linear-gradient(270deg, #FFC1CC, #B3E5FC, #FFDAB9);
  background-size: 600% 600%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
          background-clip: text;
          color: transparent;
  animation: gradientShift 8s ease infinite;
  white-space: nowrap;
  text-align: center;

  /* ADDED: baloncukların üstünde kalsın */
  position: relative;
  z-index: 1;
}
@keyframes gradientShift {
  0%   { background-position: 0%   50%; }
  50%  { background-position: 100% 50%; }
  100% { background-position: 0%   50%; }
}

/* =========================================================================
   Flu-Blur Blob Behind Typewriter
   ========================================================================= */
.hero {
  position: relative;
  overflow: hidden;
  isolation: isolate; /* prevents mixing with other z-layers */
}

.hero::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%,-50%) rotate(25deg);
  width: 650px;
  height: 450px;
  background: radial-gradient(circle at 30% 30%,
              rgba(255,200,200,.45) 0%,
              rgba(255,230,230,.25) 35%,
              rgba(255,255,255,0) 70%);
  filter: blur(120px);
  opacity: .5; /* daha hafif */
  border-radius: 45% 55% 60% 40% / 60% 40% 55% 45%;
  z-index: -1;
  animation: blob 18s ease-in-out infinite alternate;
}
@keyframes blob {
  0%  { transform: translate(-50%,-50%) scale(1)   rotate(25deg); }
  50% { transform: translate(-48%,-52%) scale(1.15) rotate(40deg); }
  100%{ transform: translate(-45%,-55%) scale(1.3)  rotate(60deg); }
}

/* =========================================================================
   Soap Bubbles (ADDED)
   ========================================================================= */
.bubble-layer{
  position: absolute;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
  z-index: 0; /* hero::before -1, yazı 1 */
}

/* Sabun köpüğü baloncuk */
.bubble{
  position: absolute;
  bottom: -12vh;                 /* ekran altından başlasın */
  left: var(--x, 50%);
  width: var(--size, 28px);
  height: var(--size, 28px);
  transform: translateX(-50%) translateY(0) scale(1) rotate(var(--rot,0deg));
  border-radius: 50%;

  /* iç taraf: ince film + iç parlama */
  background:
    radial-gradient(circle at 35% 30%,
      rgba(255,255,255,.75) 0 10%,
      rgba(255,255,255,.15) 25%,
      rgba(255,255,255,0) 55%),
    radial-gradient(circle at 70% 75%,
      rgba(255,255,255,.25) 0 8%,
      rgba(255,255,255,0) 22%);
  /* sabun köpüğü gökkuşağı kenar: conic gradient ile border-image */
  border: 2px solid transparent;
  border-image: conic-gradient(
      from var(--hue,0deg),
      #ff6ec7, #ffd166, #8aff80, #4cc9f0, #9b5de5, #ff6ec7
  ) 1;

  /* cam/ince film hissi */
  box-shadow:
    inset 0 0 18px rgba(255,255,255,.12),
    0 4px 18px rgba(76,201,240,.12);
  opacity: var(--op, .55);
  filter: saturate(120%) contrast(108%) brightness(104%);
  mix-blend-mode: screen;              /* arka planla güzel karışsın */

  animation:
    bubble-rise var(--dur,14s) linear var(--delay,0s) infinite,
    bubble-spin var(--spin,18s) linear var(--spinDelay,0s) infinite;
}

/* üstte ek parlaklık lekesi */
.bubble::after{
  content:"";
  position:absolute; inset:0;
  border-radius:inherit;
  background:
    radial-gradient(circle at 28% 22%, rgba(255,255,255,.85) 0 9%, rgba(255,255,255,0) 18%),
    radial-gradient(circle at 62% 68%, rgba(255,255,255,.22) 0 7%, rgba(255,255,255,0) 20%);
  pointer-events:none;
}
/* === Geometrik şekiller (circle, square, triangle) === */
.geo{
  position:absolute;
  bottom:-14vh;
  left:var(--x,50%);
  width:var(--size,32px);
  height:var(--size,32px);
  opacity:var(--op,.4);
  transform: translateX(-50%) translateY(0) rotate(var(--rot,0deg));
  animation: float-rise var(--dur,16s) linear var(--delay,0s) infinite;
  filter: saturate(120%) brightness(105%);
  mix-blend-mode: screen; /* arka planla güzel karışır */
}

/* Daire */
.geo.circle{
  border-radius:50%;
  background:
    radial-gradient(circle at 35% 30%, rgba(255,255,255,.8) 0 12%, rgba(255,255,255,.12) 55%, rgba(255,255,255,0) 70%);
  border:2px solid transparent;
  border-image: conic-gradient(from var(--hue,0deg),
    #ff6ec7,#ffd166,#8aff80,#4cc9f0,#9b5de5,#ff6ec7) 1;
}

/* Kare */
.geo.square{
  border-radius:12%;
  background: conic-gradient(from var(--hue,0deg),
    rgba(255,110,199,.45),
    rgba(255,209,102,.45),
    rgba(138,255,128,.45),
    rgba(76,201,240,.45),
    rgba(155,93,229,.45),
    rgba(255,110,199,.45));
  box-shadow:
    inset 0 0 14px rgba(255,255,255,.14),
    0 4px 14px rgba(76,201,240,.10);
  outline:1px solid rgba(255,255,255,.25);
}

/* Üçgen */
.geo.triangle{
  width: calc(var(--size,32px) * 1.15);
  height: calc(var(--size,32px) * 1.15);
  background: conic-gradient(from var(--hue,0deg),
    rgba(255,110,199,.5),
    rgba(255,209,102,.5),
    rgba(76,201,240,.5),
    rgba(155,93,229,.5),
    rgba(255,110,199,.5));
  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
  box-shadow:
    inset 0 0 10px rgba(255,255,255,.12),
    0 4px 14px rgba(0,0,0,.06);
}

@keyframes float-rise{
  0%   { transform: translateX(calc(-50% + 0px))  translateY(0)        rotate(var(--rot,0deg)); }
  50%  { transform: translateX(calc(-50% + 16px)) translateY(-60vh)    rotate(calc(var(--rot,0deg) + 90deg)); }
  100% { transform: translateX(calc(-50% - 12px)) translateY(-120vh)   rotate(calc(var(--rot,0deg) + 180deg)); }
}


/* yukarı çıkış + hafif sağ-sol salınım */
@keyframes bubble-rise{
  0%   { transform: translateX(calc(-50% + 0px))   translateY(0)       scale(1)   rotate(var(--rot,0deg)); }
  50%  { transform: translateX(calc(-50% + 16px))  translateY(-60vh)   scale(1.05) rotate(calc(var(--rot,0deg) + 90deg)); }
  100% { transform: translateX(calc(-50% - 12px))  translateY(-120vh)  scale(1.1)  rotate(calc(var(--rot,0deg) + 180deg)); }
}

/* konik (gökkuşağı) kenarı hafif döndürerek canlılık kat */
@keyframes bubble-spin{
  0%   { --hue: 0deg; }
  100% { --hue: 360deg; }
}

/* =========================================================================
   Badges
   ========================================================================= */
.badge.tag-pill {
  border: 1px solid currentColor;
  border-radius: 9999px;
  padding: .35em .6em;
  font-weight: 500;
  background: transparent;
}

/* =========================================================================
   Projects Carousel (Tiny-Slider)
   ========================================================================= */
.tns-outer {
  margin: 0 auto;                                   /* center viewport */
  max-width: calc(3 * 360px + 2 * 24px);            /* 3 cards + 2 gutters */
}
.tns-slider {
  display: flex !important;
  justify-content: center;
}
.tns-item {
  flex: 0 0 auto;
  display: flex;
  justify-content: center;
}
/* ---- Project Card ---- */
.my-slider .card {
  max-width: 360px;
  width: 100%;
  border-radius: 1rem;
  padding: 0 1rem;
  box-shadow: 0 4px 12px rgba(0,0,0,.08);
  transition: transform .2s ease, box-shadow .2s ease;
}
.my-slider .card:hover {
  transform: translateY(-4px) scale(1.03);
  box-shadow: 0 8px 20px rgba(0,0,0,.12);
  z-index: 5;
}
/* ---- Fix: allow hovered cards to overflow slider wrappers ---- */
.tns-ovh,
.tns-inner,
.tns-slider,
.tns-outer,
.my-slider .tns-item {
  overflow: visible !important;
}
/* ---- Carousel Controls ---- */
.tns-controls {
  position: absolute;
  width: 100%;
  bottom: 8rem;
  display: flex;
  justify-content: space-between;
  padding: 0 1rem;
  pointer-events: none;
}
.tns-controls button {
  pointer-events: auto;
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 9999px;
  padding: .5rem 1rem;
  font-size: 1.5rem;
  box-shadow: 0 .5rem 1rem rgba(0,0,0,.05);
  cursor: pointer;
  transition: background .3s;
}
.tns-controls button:hover { background: #f0f0f0; }
.carousel-prev,
.carousel-next {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 10;
  background: #fff;
  border-radius: 50%;
  width: 3rem;
  height: 3rem;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 .5rem 1rem rgba(0,0,0,.05);
}
.carousel-prev  { left:  1rem; }
.carousel-next  { right: 1rem; }
</style>

</head>
<body>
  <!-- Navbar -->
  <nav class="bg-white shadow p-4 d-flex justify-content-between align-items-center">
    <h1 class="h4 fw-bold mb-0">Tuna</h1>
    <ul class="d-flex gap-3 list-unstyled mb-0">
      <li><a href="index.html" class="text-decoration-none">Home</a></li>
      <li><a href="cv.html" class="text-decoration-none">CV</a></li>
      <li><a href="projects.html" class="text-decoration-none fw-semibold">Projects</a></li>
    </ul>
  </nav>

  <!-- Hero with Typewriter -->
  <section class="hero w-100 vh-100 d-flex justify-content-center align-items-center">
    <!-- ADDED: sabun köpüğü katmanı -->
    <div class="bubble-layer" aria-hidden="true"></div>
    <h1 id="typewriter"></h1>
  </section>

  <!-- Projects Carousel -->
  <section class="py-5 bg-light">
   <div class="container position-relative">
      <h2 class="h3 text-center mb-4">Latest Projects</h2>
      <div class="my-slider tns-outer">
        <div class="tns-slider"></div>
      </div>
      <div class="tns-controls">
        <button data-controls="prev">←</button>
        <button data-controls="next">→</button>
      </div>
    </div>
  </section>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.9.3/min/tiny-slider.js"></script>
  <script type="module">
    import { TAGS, colourOfIndex } from './assets/tags.js';

    document.addEventListener('DOMContentLoaded', () => {
      // Typewriter
      const txt = 'Tuna';
      let i = 0;
      const el = document.getElementById('typewriter');
      (function type() {
        el.textContent = txt.slice(0, i++);
        if (i <= txt.length) {
          setTimeout(type, 150);
        } else {
          setTimeout(() => { i = 0; type(); }, 5000);
        }
      })();

      // ADDED: Soap Bubbles
      const layer = document.querySelector('.bubble-layer');
      if (layer){
        const isMobile = window.matchMedia('(max-width: 576px)').matches;
        const BUBBLE_COUNT = isMobile ? 14 : 26;

        for (let i = 0; i < BUBBLE_COUNT; i++){
          const b = document.createElement('span');
          b.className = 'bubble';

          // Rastgeleler
          const size   = Math.round(Math.random()*26 + 22);          // 22px - 48px
          const left   = (Math.random()*100).toFixed(2) + '%';       // 0% - 100%
          const dur    = (Math.random()*8 + 12).toFixed(2) + 's';    // 12s - 20s
          const delay  = (Math.random()*-20).toFixed(2) + 's';       // yayılı başlangıç
          const spin   = (Math.random()*12 + 14).toFixed(2) + 's';   // 14s - 26s
          const spinD  = (Math.random()*-10).toFixed(2) + 's';
          const op     = (Math.random()*0.35 + 0.35).toFixed(2);     // .35 - .70
          const rot0   = Math.round(Math.random()*180) + 'deg';      // başlangıç rot.
          const hue0   = Math.round(Math.random()*360) + 'deg';      // başlangıç hue

          b.style.setProperty('--size',      size + 'px');
          b.style.setProperty('--x',         left);
          b.style.setProperty('--dur',       dur);
          b.style.setProperty('--delay',     delay);
          b.style.setProperty('--spin',      spin);
          b.style.setProperty('--spinDelay', spinD);
          b.style.setProperty('--op',        op);
          b.style.setProperty('--rot',       rot0);
          b.style.setProperty('--hue',       hue0);

          layer.appendChild(b);
        }
      }
            // --- Geometrik Şekiller (circle, square, triangle) ---
      const shapeLayer = document.querySelector('.bubble-layer'); // aynı katmana bırakıyoruz
      if (shapeLayer){
        const isMobile = window.matchMedia('(max-width: 576px)').matches;
        const SHAPE_COUNT = isMobile ? 8 : 14;          // istersen artır/azalt
        const TYPES = ['circle','square','triangle'];

        for(let i=0;i<SHAPE_COUNT;i++){
          const s = document.createElement('span');
          const type = TYPES[Math.floor(Math.random()*TYPES.length)];
          s.className = `geo ${type}`;

          // rastgele özellikler
          const size   = Math.round(Math.random()*28 + 24);       // 24px - 52px
          const left   = (Math.random()*100).toFixed(2) + '%';
          const dur    = (Math.random()*8 + 14).toFixed(2) + 's'; // 14s - 22s
          const delay  = (Math.random()*-20).toFixed(2) + 's';
          const op     = (Math.random()*0.25 + 0.25).toFixed(2);  // .25 - .50
          const rot0   = Math.round(Math.random()*180) + 'deg';
          const hue0   = Math.round(Math.random()*360) + 'deg';

          s.style.setProperty('--size',  size + 'px');
          s.style.setProperty('--x',     left);
          s.style.setProperty('--dur',   dur);
          s.style.setProperty('--delay', delay);
          s.style.setProperty('--op',    op);
          s.style.setProperty('--rot',   rot0);
          s.style.setProperty('--hue',   hue0);

          shapeLayer.appendChild(s);
        }
      }


      // Fetch + render slides
      const sliderEl = document.querySelector('.tns-slider');
      fetch('/my-website/projects.json')
        .then(r => { if(!r.ok) throw r; return r.json(); })
        .then(arr => arr)
        .catch(() => {
          console.warn('Using fallback slides');
          return [
            { title:'Project One', description:'Fallback slide one.', tags:['Demo'] },
            { title:'Project Two', description:'Fallback slide two.', tags:['Demo'] },
            { title:'Project Three', description:'Fallback slide three.', tags:['Demo'] },
          ];
        })
        .then(slides => {
          slides.forEach(p => {
            const card = document.createElement('div');
            card.className = 'card p-4';
            card.innerHTML = `
              <h3 class="h5 fw-bold mb-2">${p.title}</h3>
              <p class="mb-2">${p.description}</p>
              ${p.tags.map(t => `<span class="badge tag-pill me-1">${t}</span>`).join('')}
            `;
            sliderEl.append(card);
          });
        })
        .finally(initCarousel);
    });

    function initCarousel() {
      tns({
        container: ".my-slider .tns-slider",
        items: 1,
        slideBy: "page",
        autoplay: true,
        autoplayTimeout: 5000,
        autoplayButtonOutput: false,
        controls: true,
        controlsText: ["←", "→"],
        nav: false,
        gutter: 24,
        speed: 800,
        mouseDrag: true,
        edgePadding: 0,
        center: false,
        responsive: {
          768:  { items: 2 },
          1024: { items: 3 }
        }
      });
    }
  </script>
</body>
</html>
